(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){e.exports=a(121)},117:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n,r,c,i=a(0),l=a.n(i),o=a(9),u=a(11),s=a.n(u),m=(a(117),a(34)),p=a(16),f=a(180),h=a(158),g=function(){var e=Object(o.c)((function(e){return e.services})),t=Object(o.c)((function(e){return e.authentication.firstName})),a=Object(p.f)(),n=l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{display:"flex",justifyContent:"center",mt:7},l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return a.push("/signin")}},"Sign In"),l.a.createElement(f.a,{alignSelf:"end",mx:1},"or"),l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return a.push("/signup")}}," Sign Up")),l.a.createElement(f.a,{textAlign:"center",fontSize:"h6.fontSize",mt:2},"for 5 days personal weather forecast"));return t||!e.serviceAvailable||e.gettingWeather?null:n},d=a(14),E=a.n(d),b=a(25),v=a(12),y=a(32),w=a(161),O=a(187),j=a(179),x=a(169),k=a(162),N=a(163),S=a(58),C=a(164),W=a(160),D=a(68),I=a.n(D),A=a(49),M=a.n(A);!function(e){e.metric="metric",e.imperial="imperial"}(n||(n={})),function(e){e.error="error"}(r||(r={})),function(e){e.light="light",e.dark="dark"}(c||(c={}));var F,T={updated:null,city:null,now:{temp:null,feels:null,humidity:null,pressure:null,description:null,icon:null},forecast:null},P={type:r.error,msg:""},H={authentication:{email:null,firstName:null},options:{system:n.metric,pressure:!0,humidity:!0,theme:c.light},services:{serviceAvailable:!0,gettingWeather:!1,notification:P},weather:T};function z(e){if(!(e.list&&e.list.length>39))throw new Error("Empty data list");var t=function(e){for(var t=e.shift(),a=Math.floor((23-(new Date).getHours())/3),n=[0===a?[t]:e.splice(0,a)],r=0;r<5;r++)n.push(e.splice(0,8));return[t,n]}(e.list),a=Object(y.a)(t,2),n=a[0],r=a[1],c=e.city.name,i=function(e){function t(e){return e.map((function(e){return e.main.temp_max})).reduce((function(e,t){return e<t?t:e}),0)}function a(e){return e.map((function(e){return e.main.temp_min})).reduce((function(e,t){return e>t?t:e}),1e3)}function n(e){return e.reduce((function(e,t){var a=t.weather[0].icon;return Number(a.slice(0,2))>Number(e.slice(0,2))?a:e}),"01d").replace(/n/,"d")}return e.map((function(e){return{tempMax:t(e),tempMin:a(e),icon:n(e)}}))}(r),l=function(e){return{temp:e.main.temp,feels:e.main.feels_like,pressure:e.main.pressure,humidity:e.main.humidity,main:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon}}(n);return{updated:Date.now(),city:c,now:l,forecast:i}}function B(){return J.apply(this,arguments)}function J(){return(J=Object(b.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/weather");case 2:return t=e.sent,console.log(t),e.next=6,t.json();case 6:return a=e.sent,console.log(a),n=z(a),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return U.apply(this,arguments)}function U(){return(U=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(500!==(a=e.sent).status){e.next=5;break}throw new Error("Internal server error");case 5:return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Service is unavailable now");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function G(){return V.apply(this,arguments)}function V(){return(V=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signout");case 2:if(200===e.sent.status){e.next=5;break}throw new Error("Internal server error");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/deleteaccount");case 2:if(200===e.sent.status){e.next=5;break}throw new Error("Internal server error");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.changeSystem="change system",e.changePressure="change pressure",e.changeHumidity="change humidity",e.setServiceAvailable="set service availability",e.changeTheme="change the app theme",e.deleteAccount="delete the user account of the app",e.gettingWeather="getting weather data",e.gotWeather="got weather data",e.signIn="change auth state to signed in",e.signOut="change auth state to signed out",e.showNotification="show notification",e.dropNotification="drop notification"}(F||(F={}));var Y=F;function $(e){return{type:Y.setServiceAvailable,serviceAvailable:e}}function Q(){return{type:Y.gettingWeather}}function X(e){return{type:Y.gotWeather,weather:e}}function Z(e){return{type:Y.showNotification,notification:{type:e.type,msg:e.msg}}}function ee(e){return{type:Y.signIn,user:{email:e.email,firstName:e.firstName}}}function te(){return function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.clear(),e.next=4,G();case 4:t({type:Y.signOut}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(Z({type:r.error,msg:"Service unavailable now"}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}var ae=Object(W.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ne={firstName:"",lastName:"",email:"",password:""},re={firstNameErr:!1,emailErr:!1,passwordErr:!1};function ce(){var e=Object(i.useState)(re),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)(!1),u=Object(y.a)(c,2),s=u[0],g=u[1],d=Object(i.useState)(!1),W=Object(y.a)(d,2),D=W[0],A=W[1],F=ae(),T=Object(p.f)(),P=Object(o.b)();var H=function(e){return function(t){ne[e]=t.target.value}};return Object(i.useEffect)((function(){s&&Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,q(ne);case 4:if(201!==(t=e.sent).code){e.next=10;break}P(ee({email:ne.email,firstName:ne.firstName})),T.replace("/"),e.next=11;break;case 10:throw new Error(t.msg);case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),A(!1),P(Z({type:r.error,msg:e.t0.message})),g(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))()}),[s,P,T]),l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{mt:2},l.a.createElement(w.a,{onClick:function(){return T.push("/")}},l.a.createElement(M.a,null))),l.a.createElement(k.a,{component:"main",maxWidth:"xs"},l.a.createElement(N.a,null),l.a.createElement("div",{className:F.paper},l.a.createElement(O.a,{className:F.avatar},l.a.createElement(I.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign up"),l.a.createElement("form",{className:F.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var t=function(e){var t=Object(v.a)({},re);return t.firstNameErr=e.firstName.length<1,t.emailErr=!e.email.match(/.+@.+\..+/),t.passwordErr=e.password.length<6,n(t),!Object.values(t).includes(!0)}(ne);g(t)}},l.a.createElement(C.a,{container:!0,spacing:2},l.a.createElement(C.a,{item:!0,xs:12,sm:6},l.a.createElement(j.a,{autoComplete:"fname",name:"firstName",variant:"outlined",error:a.firstNameErr,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:H("firstName")})),l.a.createElement(C.a,{item:!0,xs:12,sm:6},l.a.createElement(j.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:H("lastName")})),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(j.a,{variant:"outlined",required:!0,fullWidth:!0,error:a.emailErr,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:H("email")})),l.a.createElement(C.a,{item:!0,xs:12},l.a.createElement(j.a,{variant:"outlined",required:!0,fullWidth:!0,error:a.passwordErr,name:"password",label:"Password",type:"password",id:"password",onChange:H("password")}))),l.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:F.submit},D?l.a.createElement(x.a,{color:"secondary"}):"Sign Up"),l.a.createElement(C.a,{container:!0,justify:"flex-end"},l.a.createElement(C.a,{item:!0},l.a.createElement(m.b,{to:"/signin"},l.a.createElement(S.a,{variant:"body2"},"Already have an account? Sign in"))))))))}var ie=Object(W.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),le={email:"",password:""},oe={emailErr:!1};function ue(){var e=Object(i.useState)(oe),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)(!1),u=Object(y.a)(c,2),s=u[0],g=u[1],d=ie(),W=Object(p.f)(),D=Object(o.b)(),A=Object(o.c)((function(e){return e.authentication.email})),F=Object(o.c)((function(e){return Boolean(e.services.notification.msg)}));A&&W.replace("/");var T=function(e){return function(t){le[e]=t.target.value}};return Object(i.useEffect)((function(){F&&g(!1)}),[F]),l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{mt:2},l.a.createElement(w.a,{onClick:function(){return W.replace("/")}},l.a.createElement(M.a,null))),l.a.createElement(k.a,{component:"main",maxWidth:"xs"},l.a.createElement(N.a,null),l.a.createElement("div",{className:d.paper},l.a.createElement(O.a,{className:d.avatar},l.a.createElement(I.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:d.form,noValidate:!0,onSubmit:function(e){var t;e.preventDefault(),function(e){var t=Object(v.a)({},oe);return t.emailErr=!e.email.match(/.+@.+\..+/),n(t),!Object.values(t).includes(!0)}(le)&&(g(!0),D((t={email:le.email,password:le.password},function(){var e=Object(b.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:200===(n=e.sent).code?a(ee(n.user)):a(Z({type:r.error,msg:n.msg})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(Z({type:r.error,msg:e.t0.message}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())))}},l.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:a.emailErr,onChange:T("email")}),l.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:T("password")}),l.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:d.submit},s?l.a.createElement(x.a,{color:"secondary"}):"Sign In"),l.a.createElement(C.a,{container:!0},l.a.createElement(C.a,{item:!0},l.a.createElement(m.b,{to:"/signup"},l.a.createElement(S.a,{variant:"body2"},"Don't have an account? Sign Up"))))))))}var se=a(94),me=a(178),pe=a(186),fe=a(189),he=a(183),ge=a(174),de=a(175),Ee=a(184),be=a(90),ve=a.n(be),ye=a(71),we=a.n(ye),Oe=a(72),je=a.n(Oe),xe=a(188),ke=a(168),Ne=a(172),Se=a(170),Ce=a(173),We=a(171),De=Object(W.a)({list:{width:200}}),Ie=function(e){var t=e.isOpen,a=e.toggleOpen,n=e.userName,r=De(),c=Object(p.f)(),i=Object(o.b)(),u=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&a(!1)},s=function(){i(te()),c.push("/")};return l.a.createElement(xe.a,{anchor:"left",open:t,onClick:u,onKeyDown:u}," ",l.a.createElement("div",{className:r.list},l.a.createElement(ke.a,null,l.a.createElement(Se.a,null,l.a.createElement(We.a,{primary:n}))),l.a.createElement(Ne.a,null),l.a.createElement(ke.a,null,l.a.createElement(Se.a,{button:!0,onClick:function(){c.push("/options")}},l.a.createElement(Ce.a,null,l.a.createElement(we.a,null)),l.a.createElement(We.a,{primary:"Options"}))),l.a.createElement(Ne.a,null),l.a.createElement(ke.a,null,l.a.createElement(Se.a,{button:!0,onClick:s},l.a.createElement(Ce.a,null,l.a.createElement(je.a,null)),l.a.createElement(We.a,{primary:"Sign out",onClick:s})))))},Ae=Object(W.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},grow:{flexGrow:1}}})),Me=function(){var e=Ae(),t=Object(o.c)((function(e){return e.authentication.firstName})),a=Object(o.b)(),n=Object(i.useState)(!1),r=Object(y.a)(n,2),c=r[0],u=r[1],s=Object(p.f)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge.a,{position:"static"},l.a.createElement(de.a,null,l.a.createElement(he.a,{smUp:!0},l.a.createElement(w.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return u((function(e){return!e}))}},l.a.createElement(ve.a,null))),l.a.createElement(he.a,{smDown:!0},l.a.createElement(S.a,{variant:"h6"},"Your weather today",t?", ".concat(t,"!"):null)),l.a.createElement("div",{className:e.grow}),l.a.createElement(he.a,{smDown:!0},l.a.createElement(f.a,{mx:1},l.a.createElement(Ee.a,{title:"Settings"},l.a.createElement(w.a,{onClick:function(){return s.push("/options")},color:"inherit"},l.a.createElement(we.a,null)))),l.a.createElement(f.a,{mx:1},t?l.a.createElement(Ee.a,{title:"Sign out"},l.a.createElement(w.a,{color:"inherit",onClick:function(){a(te()),s.push("/")}},l.a.createElement(je.a,null))):null)))),l.a.createElement(Ie,{isOpen:c,toggleOpen:u,userName:t}))},Fe=a(123),Te=Object(W.a)((function(e){return Object(pe.a)({grid:{textAlign:"center"},img:{width:"50px"}})})),Pe=function(){var e=Te(),t=function(e,t){return e.map((function(e){var a=e.tempMax,r=e.tempMin;return Object(v.a)(Object(v.a)({},e),{},{tempMax:Math.round(t===n.metric?a:9*a/5+32),tempMin:Math.round(t===n.metric?r:9*r/5+32)})}))}(Object(o.c)((function(e){return e.weather.forecast})),Object(o.c)((function(e){return e.options.system}))).map((function(t,a){var n=new Date,r=new Date(n.setDate(n.getDate()+a)).toLocaleString([],{weekday:"short",day:"numeric"});return l.a.createElement(C.a,{key:a,item:!0,className:e.grid},l.a.createElement(C.a,{item:!0},r),l.a.createElement(C.a,{item:!0},l.a.createElement(Fe.a,{elevation:2},t.icon?l.a.createElement("img",{className:e.img,src:"http://openweathermap.org/img/wn/".concat(t.icon,"@2x.png"),alt:"Weather forecast"}):null)),l.a.createElement(C.a,{item:!0},t.tempMax,"\xb0"),l.a.createElement(C.a,null,t.tempMin,"\xb0"))}));return t.pop(),l.a.createElement(C.a,{container:!0,justify:"center",spacing:1},t)},He=Object(W.a)((function(e){return Object(pe.a)({grid:{padding:e.spacing(1),textAlign:"center"},img:{width:"150px"}})})),ze=function(){var e=He(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.authentication.firstName})),r=Object(o.c)((function(e){return e.options.system})),c=Object(o.c)((function(e){return e.options.pressure})),u=Object(o.c)((function(e){return e.options.humidity})),s=Object(o.c)((function(e){return e.services.serviceAvailable})),m=Object(o.c)((function(e){return e.weather})),p=Object(o.c)((function(e){return e.weather.updated})),h=Date.now()-Number(p)>18e5,g=m.city,d=function(e,t){var a,r=e.temp,c=e.feels,i=e.pressure;return Object(v.a)(Object(v.a)({},e),{},{temp:(a=t===n.metric?r:9*r/5+32,Math.round(10*a)/10),feels:Math.round(t===n.metric?c:9*c/5+32),pressure:Math.round(t===n.metric?.750062*i:.750062*i/25.4)})}(m.now,r);return Object(i.useEffect)((function(){t(function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Q()),e.prev=1,e.next=4,B();case 4:a=e.sent,t(X(a)),t(Q()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),t(Q()),t($(!1));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),!s&&g&&t($(!0))}),[h]),l.a.createElement(l.a.Fragment,null,g?l.a.createElement(f.a,{my:3},l.a.createElement(C.a,{container:!0,direction:"column",alignItems:"center",spacing:2},l.a.createElement(C.a,{item:!0},l.a.createElement(S.a,{variant:"h6"},g)),l.a.createElement(C.a,{item:!0},l.a.createElement(S.a,{variant:"h3"},d.temp,"\xb0",r===n.metric?" C":" F")),l.a.createElement(C.a,{item:!0},l.a.createElement(S.a,{variant:"subtitle2"},"Feels ",d.feels,"\xb0")),l.a.createElement(C.a,{item:!0},l.a.createElement(Fe.a,{elevation:2},d.icon?l.a.createElement("img",{className:e.img,src:"http://openweathermap.org/img/wn/".concat(d.icon,"@2x.png"),alt:"Weather"}):null)),l.a.createElement(C.a,{item:!0,container:!0,direction:"row",justify:"center",spacing:3,className:e.grid},c?l.a.createElement(C.a,{item:!0},l.a.createElement(S.a,{variant:"subtitle2"},l.a.createElement(C.a,{item:!0},"Pressure"),l.a.createElement(C.a,{item:!0},d.pressure," ",r===n.metric?"mm":"in","Hg"))):null,u?l.a.createElement(C.a,{item:!0},l.a.createElement(S.a,{variant:"subtitle2"},l.a.createElement(C.a,{item:!0},"Humidity"),l.a.createElement(C.a,{item:!0},d.humidity," %"))):null))):null,a&&g?l.a.createElement(Pe,null):null)},Be=a(165),Je=a(176),qe=a(177),Ue=a(190),Le=a(92),_e=a.n(Le),Ge=function(){var e=Object(o.c)((function(e){return e.options})),t=e.system,a=e.pressure,i=e.humidity,u=e.theme,s=Object(o.c)((function(e){return e.authentication.firstName})),m=Object(o.b)(),g=Object(p.f)(),d=t===n.metric,v=t===n.metric?"Metric system":"Imperial system",y=u!==c.light,O=u===c.light?"Light theme":"Dark theme";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{mt:2},l.a.createElement(w.a,{onClick:function(){return g.push("/")}},l.a.createElement(M.a,null))),l.a.createElement(f.a,{px:5},l.a.createElement(f.a,{display:"flex",my:2},l.a.createElement(f.a,{fontSize:"h6.fontSize"},"Options:")),l.a.createElement(Be.a,{component:"fieldset"},l.a.createElement(Je.a,null,l.a.createElement(qe.a,{control:l.a.createElement(Ue.a,{checked:d,onChange:function(){return m({type:Y.changeSystem})},name:"system"}),label:v}),l.a.createElement(qe.a,{control:l.a.createElement(Ue.a,{checked:a,onChange:function(){return m({type:Y.changePressure})},name:"pressure"}),label:"Pressure"}),l.a.createElement(qe.a,{control:l.a.createElement(Ue.a,{checked:i,onChange:function(){return m({type:Y.changeHumidity})},name:"humidity"}),label:"Humidity"}),l.a.createElement(qe.a,{control:l.a.createElement(Ue.a,{checked:y,onChange:function(){return m({type:Y.changeTheme})},name:"theme"}),label:O}),s?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{my:2},l.a.createElement(Ne.a,null)),l.a.createElement(h.a,{color:"secondary",startIcon:l.a.createElement(_e.a,null),onClick:function(){return m(function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:t(te()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(Z({type:r.error,msg:e.t0.message}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())}},"Delete account")):null))))},Ve=a(185),Ke=a(181),Re=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.services.notification})),a=function(){e({type:Y.dropNotification})};return l.a.createElement(Ve.a,{open:Boolean(t.msg),autoHideDuration:6e3,onClose:a},l.a.createElement(Ke.a,{severity:t.type,elevation:6,variant:"filled",onClose:a},t.msg))},Ye=Object(W.a)((function(e){return Object(pe.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff",fontSize:"2rem"}})}));var $e=function(){var e=Object(o.c)((function(e){return e.options.theme})),t=Object(se.a)({palette:{type:e,background:{paper:"#80d8ff"},primary:{main:"#80d8ff"},secondary:{main:"#00b0ff"}}}),a=!Object(o.c)((function(e){return e.services.serviceAvailable})),n=Object(o.c)((function(e){return e.services.gettingWeather})),r=Object(o.c)((function(e){return e})),c=Ye();return Object(i.useEffect)((function(){localStorage.setItem("state",JSON.stringify(r))}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,null,l.a.createElement(me.a,{theme:t},l.a.createElement(N.a,null),l.a.createElement(Me,null),l.a.createElement(k.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/options",component:Ge}),l.a.createElement(p.a,{path:"/signin",component:ue}),l.a.createElement(p.a,{path:"/signup",component:ce}),l.a.createElement(p.a,{path:"/"},l.a.createElement(ze,null),l.a.createElement(g,null),l.a.createElement(fe.a,{className:c.backdrop,open:n},l.a.createElement(x.a,{color:"inherit"})),l.a.createElement(fe.a,{className:c.backdrop,open:a},"Sorry, service is unavailable now"))),l.a.createElement(Re,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=a(44),Xe=a(93),Ze=F;var et=Object(Qe.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.authentication,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.signIn:return t.user;case F.signOut:return H.authentication;default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.options,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.changeSystem:var a=e.system===n.metric?n.imperial:n.metric;return Object(v.a)(Object(v.a)({},e),{},{system:a});case Ze.changePressure:return Object(v.a)(Object(v.a)({},e),{},{pressure:!e.pressure});case Ze.changeHumidity:return Object(v.a)(Object(v.a)({},e),{},{humidity:!e.humidity});case Ze.changeTheme:var r=e.theme===c.light?c.dark:c.light;return Object(v.a)(Object(v.a)({},e),{},{theme:r});default:return e}},services:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.services,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.setServiceAvailable:return Object(v.a)(Object(v.a)({},e),{},{serviceAvailable:t.serviceAvailable});case F.gettingWeather:return Object(v.a)(Object(v.a)({},e),{},{gettingWeather:!e.gettingWeather});case F.showNotification:return Object(v.a)(Object(v.a)({},e),{},{notification:{type:t.notification.type,msg:t.notification.msg}});case F.dropNotification:return Object(v.a)(Object(v.a)({},e),{},{notification:P});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.weather,t=arguments.length>1?arguments[1]:void 0;return t.type===F.gotWeather?t.weather:e}}),tt=[Xe.a],at=localStorage.getItem("state"),nt=at?JSON.parse(at):H,rt=Object(Qe.d)(et,nt,Qe.a.apply(void 0,tt));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,{store:rt},l.a.createElement($e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.d18b6f2e.chunk.js.map